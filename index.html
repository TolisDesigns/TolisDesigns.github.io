<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Illustrations</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Crimson+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #d7f4ee;
            --text: #1a1a1a;
            --border: #c0d8d3;
        }

        body {
            font-family: 'Crimson Pro', serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--bg);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            padding: 1.5rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideDown 0.6s ease-out;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .logo {
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            font-size: 1.4rem;
            letter-spacing: -0.05em;
            line-height: 1;
            text-transform: uppercase;
            text-align: center;
        }

        nav {
            display: flex;
            gap: 2.5rem;
        }

        nav a {
            font-family: 'Crimson Pro', serif;
            font-size: 1rem;
            color: var(--text);
            text-decoration: none;
            position: relative;
            transition: opacity 0.3s ease;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--text);
            transition: width 0.3s ease;
        }

        nav a:hover {
            opacity: 0.6;
        }

        nav a:hover::after {
            width: 100%;
        }

        nav a.active::after {
            width: 100%;
        }

        main {
            margin-top: 80px;
            padding: 3rem;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .gallery-item {
            position: relative;
            aspect-ratio: 4/3;
            background: #fff;
            border: 1px solid var(--border);
            overflow: hidden;
            cursor: pointer;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease-out forwards;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .gallery-item:nth-child(1) { animation-delay: 0.1s; }
        .gallery-item:nth-child(2) { animation-delay: 0.2s; }
        .gallery-item:nth-child(3) { animation-delay: 0.3s; }
        .gallery-item:nth-child(4) { animation-delay: 0.4s; }
        .gallery-item:nth-child(5) { animation-delay: 0.5s; }
        .gallery-item:nth-child(6) { animation-delay: 0.6s; }
        .gallery-item:nth-child(7) { animation-delay: 0.7s; }
        .gallery-item:nth-child(8) { animation-delay: 0.8s; }
        .gallery-item:nth-child(9) { animation-delay: 0.9s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        /* Lightbox modal styles */
        .lightbox {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.75);
            z-index: 2000;
            padding: 2rem;
        }

        .lightbox.open {
            display: flex;
        }

        .lightbox-content {
            max-width: 1200px;
            max-height: 90vh;
            width: 100%;
            background: transparent;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-img {
            max-width: 100%;
            max-height: 90vh;
            box-shadow: 0 8px 30px rgba(0,0,0,0.6);
            border-radius: 4px;
        }

        .lightbox-close,
        .lightbox-prev,
        .lightbox-next {
            position: absolute;
            background: rgba(255,255,255,0.9);
            border: none;
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            border-radius: 4px;
            font-size: 1rem;
            color: #111;
        }

        .lightbox-close { top: 10px; right: 10px; }
        .lightbox-prev { left: 10px; top: 50%; transform: translateY(-50%); }
        .lightbox-next { right: 10px; top: 50%; transform: translateY(-50%); }

        .lightbox-caption {
            margin-top: 0.75rem;
            color: #fff;
            text-align: center;
            font-size: 1rem;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        .gallery-item-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            padding: 1.5rem;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-item-overlay {
            transform: translateY(0);
        }

        .gallery-item-title {
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .about-section, .contact-section {
            max-width: 900px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .about-section h1, .contact-section h1 {
            font-size: 3rem;
            font-weight: 300;
            margin-bottom: 2rem;
            letter-spacing: -0.02em;
        }

        .about-section p, .contact-section p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: #444;
        }

        .contact-info {
            margin-top: 3rem;
        }

        .contact-info a {
            display: inline-block;
            color: var(--text);
            text-decoration: none;
            font-size: 1.2rem;
            margin-right: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 2px;
            border-bottom: 1px solid var(--text);
            transition: opacity 0.3s ease;
        }

        .contact-info a:hover {
            opacity: 0.6;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.4s ease-out;
        }

        @media (max-width: 1200px) {
            .gallery {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 1.5rem;
            }

            .logo {
                font-size: 1.2rem;
            }

            nav {
                gap: 1.5rem;
            }

            nav a {
                font-size: 0.9rem;
            }

            main {
                padding: 2rem 1.5rem;
            }

            .gallery {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .about-section h1, .contact-section h1 {
                font-size: 2rem;
            }

            .about-section p, .contact-section p {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">Tolis<br>Designs</div>
        <nav>
            <a href="#illustrations" class="nav-link active">Illustrations</a>
            <a href="#about" class="nav-link">About</a>
            <a href="#contact" class="nav-link">Contact</a>
        </nav>
    </header>

    <main>
        <!-- Illustrations Section -->
        <section id="illustrations" class="section active">
            <div class="gallery" aria-live="polite">
                <!-- Images from the `/art` folder will be injected here automatically -->
            </div>
            <p id="gallery-empty" style="text-align:center; color:#666; margin-top:1rem; display:none;">No artwork to display at the moment.</p>
        </section>

        <!-- About Section -->
        <section id="about" class="section about-section">
            <h1>About</h1>
            <p>I’m a conceptual illustrator focused on editorial and social commentary work.</p>
            <p>I tend to think in images before words, which is probably why I’m drawn to ideas that sit under the surface: the uncomfortable, the overlooked, the things we don’t always talk about directly. I like taking complex problems or everyday observations and translating them into images that feel immediate and clear.</p>
            <p>What interests me most is visual metaphor, turning an issue into a single, strong image that can speak without explanation. I’m always looking for that balance between simplicity and impact, reducing an idea to its core while still leaving space for interpretation. For me, illustration goes beyond decoration; it’s about making people pause, think, and maybe see something familiar in a different way.</p>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section contact-section">
            <h1>Contact</h1>
            <p>I'm always interested in hearing about new projects and creative collaborations. Whether you have a specific brief or just want to discuss ideas, feel free to reach out.</p>
            <div class="contact-info">
                <a href="#" id="email-link">Loading...</a>
            </div>
        </section>
    </main>

    <script>
        // Obfuscated email - decoded on page load to prevent bot harvesting
        (function() {
            const user = 'tolisdesigns.business';
            const domain = 'gmail.com';
            const email = user + '@' + domain;
            const emailLink = document.getElementById('email-link');
            emailLink.href = 'mailto:' + email;
            emailLink.textContent = email;
        })();

        // Navigation functionality
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.section');

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove active class from all links and sections
                navLinks.forEach(l => l.classList.remove('active'));
                sections.forEach(s => s.classList.remove('active'));
                
                // Add active class to clicked link
                link.classList.add('active');
                
                // Show corresponding section
                const targetId = link.getAttribute('href').substring(1);
                document.getElementById(targetId).classList.add('active');
                
                // Scroll to top smoothly
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });

        // --- Gallery loader: auto-inject images placed in /art (PNG/JPG) via GitHub API ---
        (function() {
            const GITHUB_OWNER = 'TolisDesigns';
            const GITHUB_REPO = 'TolisDesigns.github.io';
            const GITHUB_BRANCH = 'main';
            const GALLERY_PATH = 'art';

            function prettifyFilename(name) {
                return name
                    .replace(/\.[^.]+$/, '')
                    .replace(/[_-]+/g, ' ')
                    .replace(/\s+/g, ' ')
                    .trim()
                    .replace(/\b\w/g, c => c.toUpperCase());
            }

            async function loadGallery() {
                const gallery = document.querySelector('.gallery');
                const emptyMsg = document.getElementById('gallery-empty');
                gallery.innerHTML = '';
                emptyMsg.style.display = 'none';

                const apiUrl = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/${GALLERY_PATH}?ref=${GITHUB_BRANCH}`;
                try {
                    const res = await fetch(apiUrl);
                    if (!res.ok) throw new Error('GitHub API returned ' + res.status);
                    const items = await res.json();

                    const images = items
                        .filter(f => f.type === 'file' && /\.(jpe?g|png)$/i.test(f.name))
                        .sort((a, b) => a.name.localeCompare(b.name, undefined, { numeric: true, sensitivity: 'base' }));

                    if (!images.length) {
                        emptyMsg.style.display = 'block';
                        return;
                    }

                    // Keep a simple in-memory list for lightbox navigation
                    const galleryImages = [];

                    images.forEach((file, idx) => {
                        const title = prettifyFilename(file.name);
                        galleryImages.push({ url: file.download_url, title });

                        const item = document.createElement('div');
                        item.className = 'gallery-item';
                        item.style.animationDelay = `${(idx % 9) * 0.08 + 0.08}s`;

                        const img = document.createElement('img');
                        img.src = file.download_url;
                        img.alt = title;
                        img.loading = 'lazy';

                        const overlay = document.createElement('div');
                        overlay.className = 'gallery-item-overlay';
                        const t = document.createElement('div');
                        t.className = 'gallery-item-title';
                        t.textContent = title;
                        overlay.appendChild(t);

                        item.appendChild(img);
                        item.appendChild(overlay);

                        item.addEventListener('click', () => openLightbox(idx));

                        gallery.appendChild(item);
                    });

                    // Lightbox DOM and behavior
                    const existingLightbox = document.querySelector('.lightbox');
                    if (!existingLightbox) {
                        const lb = document.createElement('div');
                        lb.className = 'lightbox';
                        lb.innerHTML = `
                            <div class="lightbox-content" role="dialog" aria-modal="true" aria-label="Image viewer">
                                <button class="lightbox-close" aria-label="Close">✕</button>
                                <button class="lightbox-prev" aria-label="Previous">◀</button>
                                <img class="lightbox-img" alt="" />
                                <button class="lightbox-next" aria-label="Next">▶</button>
                                <div class="lightbox-caption" aria-live="polite"></div>
                            </div>
                        `;
                        document.body.appendChild(lb);

                        const lightbox = lb;
                        const lbImg = lightbox.querySelector('.lightbox-img');
                        const lbCaption = lightbox.querySelector('.lightbox-caption');
                        const btnClose = lightbox.querySelector('.lightbox-close');
                        const btnNext = lightbox.querySelector('.lightbox-next');
                        const btnPrev = lightbox.querySelector('.lightbox-prev');

                        let currentIndex = 0;

                        function preload(index) {
                            const len = galleryImages.length;
                            const next = galleryImages[(index + 1 + len) % len];
                            const prev = galleryImages[(index - 1 + len) % len];
                            if (next && next.url) { const i = new Image(); i.src = next.url; }
                            if (prev && prev.url) { const j = new Image(); j.src = prev.url; }
                        }

                        function showImage(index) {
                            currentIndex = (index + galleryImages.length) % galleryImages.length;
                            const it = galleryImages[currentIndex];
                            lbImg.src = it.url;
                            lbImg.alt = it.title || '';
                            lbCaption.textContent = it.title || '';
                            preload(currentIndex);
                        }

                        function openLightbox(index) {
                            showImage(index);
                            lightbox.classList.add('open');
                            document.body.style.overflow = 'hidden';
                            // focus the close button for accessibility
                            btnClose.focus();
                        }

                        function closeLightbox() {
                            lightbox.classList.remove('open');
                            document.body.style.overflow = '';
                        }

                        function nextImage() { showImage(currentIndex + 1); }
                        function prevImage() { showImage(currentIndex - 1); }

                        // Expose openLightbox for item click handlers
                        window.openLightbox = openLightbox;

                        // Event listeners
                        btnClose.addEventListener('click', closeLightbox);
                        btnNext.addEventListener('click', nextImage);
                        btnPrev.addEventListener('click', prevImage);

                        // Click on image advances to next
                        lbImg.addEventListener('click', nextImage);

                        // Simple swipe handling for touch devices
                        let touchStartX = 0;
                        lbImg.addEventListener('touchstart', (e) => { touchStartX = e.changedTouches[0].clientX; }, { passive: true });
                        lbImg.addEventListener('touchend', (e) => {
                            const dx = e.changedTouches[0].clientX - touchStartX;
                            if (Math.abs(dx) > 40) {
                                if (dx < 0) nextImage(); else prevImage();
                            }
                        });

                        lightbox.addEventListener('click', (e) => {
                            if (e.target === lightbox) closeLightbox();
                        });

                        // Keyboard navigation + focus trap
                        const focusables = [btnClose, btnPrev, btnNext];
                        document.addEventListener('keydown', (e) => {
                            if (!lightbox.classList.contains('open')) return;
                            if (e.key === 'Escape') { e.preventDefault(); closeLightbox(); }
                            if (e.key === 'ArrowRight') { e.preventDefault(); nextImage(); }
                            if (e.key === 'ArrowLeft') { e.preventDefault(); prevImage(); }

                            if (e.key === 'Tab') {
                                const idx = focusables.indexOf(document.activeElement);
                                if (e.shiftKey) {
                                    if (idx <= 0) { focusables[focusables.length - 1].focus(); e.preventDefault(); }
                                } else {
                                    if (idx === -1 || idx === focusables.length - 1) { focusables[0].focus(); e.preventDefault(); }
                                }
                            }
                        });
                    }
                } catch (err) {
                    console.error('Gallery load error:', err);
                    emptyMsg.style.display = 'block';
                    emptyMsg.textContent = 'Could not load gallery.';
                }
            }

            document.addEventListener('DOMContentLoaded', loadGallery);
        })();
    </script>
</body>
</html>
